<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from /home/aimen/auto-weed-removal/ros2_ws/install/name_ign/share/name_ign/robot/_name.gazebo.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="name">
	<link name="base_footprint"/>
	<link name="base_link">
		<visual>
			<origin rpy="0.0 0.0 1.5707963267948966" xyz="0.0 0.0 -0.018"/>
			<geometry>
				<mesh filename="file:///home/aimen/auto-weed-removal/ros2_ws/install/name_description/share/name_description/meshes/coconut.stl"/>
			</geometry>
			<material name="chassis_color">
				<color rgba="1 1 1 1"/>
			</material>
		</visual>
		<inertial>
			<origin rpy="0.0 0.0 0.0" xyz="0.0002 0.0001 -0.0001"/>
			<mass value="40.0"/>
			<inertia ixx="1.793666667" ixy="0" ixz="0" iyy="1.286666667" iyz="0" izz="0.530966667"/>
		</inertial>
		<collision>
			<origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
			<geometry>
				<box size="0.65 0.55 0.25"/>
			</geometry>
		</collision>
	</link>
	<joint name="base_offset" type="fixed">
		<parent link="base_footprint"/>
		<child link="base_link"/>
		<origin xyz="0.0 0.0 0.165"/>
	</joint>
	<link name="wheel_left">
		<visual>
			<geometry>
				<cylinder length="0.04" radius="0.08"/>
			</geometry>
			<material name="wheel_color">
				<color rgba="0 0 0 1"/>
			</material>
		</visual>
		<inertial>
			<origin rpy="0.0 0.0 0.0" xyz="0 0 0"/>
			<mass value="0.2"/>
			<inertia ixx="0.04" ixy="0" ixz="0" iyy="0.04" iyz="0" izz="0.04"/>
		</inertial>
		<collision>
			<origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
			<geometry>
				<cylinder length="0.04" radius="0.08"/>
			</geometry>
		</collision>
	</link>
	<joint name="wheel_joint_left" type="continuous">
		<origin rpy="-1.5707963267948966 0 0" xyz="           0.0            0.225            -0.085         "/>
		<parent link="base_link"/>
		<child link="wheel_left"/>
		<axis xyz="0.0 0.0 1.0"/>
	</joint>
	<link name="wheel_right">
		<visual>
			<geometry>
				<cylinder length="0.04" radius="0.08"/>
			</geometry>
			<material name="wheel_color">
				<color rgba="0 0 0 1"/>
			</material>
		</visual>
		<inertial>
			<origin rpy="0.0 0.0 0.0" xyz="0 0 0"/>
			<mass value="0.2"/>
			<inertia ixx="0.04" ixy="0" ixz="0" iyy="0.04" iyz="0" izz="0.04"/>
		</inertial>
		<collision>
			<origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
			<geometry>
				<cylinder length="0.04" radius="0.08"/>
			</geometry>
		</collision>
	</link>
	<joint name="wheel_joint_right" type="continuous">
		<origin rpy="-1.5707963267948966 0 0" xyz="           0.0            -0.225            -0.085         "/>
		<parent link="base_link"/>
		<child link="wheel_right"/>
		<axis xyz="0.0 0.0 1.0"/>
	</joint>
	<link name="castor_front_left">
		<visual>
			<geometry>
				<cylinder length="0.02" radius="0.035"/>
			</geometry>
			<material name="castor_color">
				<color rgba="0.5 0.5 0 1"/>
			</material>
		</visual>
		<inertial>
			<origin rpy="0.0 0.0 0.0" xyz="0 0 0"/>
			<mass value="0.2"/>
			<inertia ixx="0.04" ixy="0" ixz="0" iyy="0.04" iyz="0" izz="0.04"/>
		</inertial>
		<collision>
			<origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
			<geometry>
				<cylinder length="0.02" radius="0.035"/>
			</geometry>
		</collision>
	</link>
	<joint name="castor_joint_front_left" type="continuous">
		<origin rpy="-1.5707963267948966 0 0" xyz="           0.23            0.16            -0.129         "/>
		<parent link="base_link"/>
		<child link="castor_front_left"/>
		<axis xyz="0.0 0.0 1.0"/>
	</joint>
	<link name="castor_front_right">
		<visual>
			<geometry>
				<cylinder length="0.02" radius="0.035"/>
			</geometry>
			<material name="castor_color">
				<color rgba="0.5 0.5 0 1"/>
			</material>
		</visual>
		<inertial>
			<origin rpy="0.0 0.0 0.0" xyz="0 0 0"/>
			<mass value="0.2"/>
			<inertia ixx="0.04" ixy="0" ixz="0" iyy="0.04" iyz="0" izz="0.04"/>
		</inertial>
		<collision>
			<origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
			<geometry>
				<cylinder length="0.02" radius="0.035"/>
			</geometry>
		</collision>
	</link>
	<joint name="castor_joint_front_right" type="continuous">
		<origin rpy="-1.5707963267948966 0 0" xyz="           0.23            -0.16            -0.129         "/>
		<parent link="base_link"/>
		<child link="castor_front_right"/>
		<axis xyz="0.0 0.0 1.0"/>
	</joint>
	<link name="castor_rear_left">
		<visual>
			<geometry>
				<cylinder length="0.02" radius="0.035"/>
			</geometry>
			<material name="castor_color">
				<color rgba="0.5 0.5 0 1"/>
			</material>
		</visual>
		<inertial>
			<origin rpy="0.0 0.0 0.0" xyz="0 0 0"/>
			<mass value="0.2"/>
			<inertia ixx="0.04" ixy="0" ixz="0" iyy="0.04" iyz="0" izz="0.04"/>
		</inertial>
		<collision>
			<origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
			<geometry>
				<cylinder length="0.02" radius="0.035"/>
			</geometry>
		</collision>
	</link>
	<joint name="castor_joint_rear_left" type="continuous">
		<origin rpy="-1.5707963267948966 0 0" xyz="           -0.23            0.16            -0.129         "/>
		<parent link="base_link"/>
		<child link="castor_rear_left"/>
		<axis xyz="0.0 0.0 1.0"/>
	</joint>
	<link name="castor_rear_right">
		<visual>
			<geometry>
				<cylinder length="0.02" radius="0.035"/>
			</geometry>
			<material name="castor_color">
				<color rgba="0.5 0.5 0 1"/>
			</material>
		</visual>
		<inertial>
			<origin rpy="0.0 0.0 0.0" xyz="0 0 0"/>
			<mass value="0.2"/>
			<inertia ixx="0.04" ixy="0" ixz="0" iyy="0.04" iyz="0" izz="0.04"/>
		</inertial>
		<collision>
			<origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
			<geometry>
				<cylinder length="0.02" radius="0.035"/>
			</geometry>
		</collision>
	</link>
	<joint name="castor_joint_rear_right" type="continuous">
		<origin rpy="-1.5707963267948966 0 0" xyz="           -0.23            -0.16            -0.129         "/>
		<parent link="base_link"/>
		<child link="castor_rear_right"/>
		<axis xyz="0.0 0.0 1.0"/>
	</joint>
	<link name="pole_front_left">
		<collision>
			<geometry>
				<cylinder length="0.05" radius="0.015"/>
			</geometry>
		</collision>
	</link>
	<joint name="pole_joint_front_left" type="fixed">
		<origin xyz="0.235 0.2 0.15"/>
		<parent link="base_link"/>
		<child link="pole_front_left"/>
	</joint>
	<link name="pole_front_right">
		<collision>
			<geometry>
				<cylinder length="0.05" radius="0.015"/>
			</geometry>
		</collision>
	</link>
	<joint name="pole_joint_front_right" type="fixed">
		<origin xyz="0.235 -0.2 0.15"/>
		<parent link="base_link"/>
		<child link="pole_front_right"/>
	</joint>
	<link name="pole_rear_left">
		<collision>
			<geometry>
				<cylinder length="0.05" radius="0.015"/>
			</geometry>
		</collision>
	</link>
	<joint name="pole_joint_rear_left" type="fixed">
		<origin xyz="-0.235 0.2 0.15"/>
		<parent link="base_link"/>
		<child link="pole_rear_left"/>
	</joint>
	<link name="pole_rear_right">
		<collision>
			<geometry>
				<cylinder length="0.05" radius="0.015"/>
			</geometry>
		</collision>
	</link>
	<joint name="pole_joint_rear_right" type="fixed">
		<origin xyz="-0.235 -0.2 0.15"/>
		<parent link="base_link"/>
		<child link="pole_rear_right"/>
	</joint>
	<link name="lidar_link">
		<visual>
			<geometry>
				<cylinder length="0.04" radius="0.035"/>
			</geometry>
		</visual>
	</link>
	<joint name="lidar_mount" type="fixed">
		<origin xyz="0.22 0.0 0.145"/>
		<parent link="base_link"/>
		<child link="lidar_link"/>
	</joint>
	<link name="camera_link">
		<visual>
			<origin rpy="0 0 0" xyz="0 0 0"/>
			<geometry>
				<box size="0.025 0.09 0.025"/>
			</geometry>
		</visual>
	</link>
	<link name="camera_optical"/>
	<joint name="camera_joint" type="fixed">
		<parent link="base_link"/>
		<child link="camera_link"/>
		<origin xyz="0.317 0 0.1"/>
	</joint>
	<joint name="camera_optical_mount" type="fixed">
		<parent link="camera_link"/>
		<child link="camera_optical"/>
		<origin rpy="-1.5707963267948966 0 -1.5707963267948966" xyz="0 0 0"/>
	</joint>
	<link name="imu_link"/>
	<joint name="imu_mount" type="fixed">
		<parent link="base_link"/>
		<child link="imu_link"/>
		<origin rpy="0 0 0" xyz="0 0 0"/>
	</joint>
	<gazebo reference="base_link">
		<material>Gazebo/White</material>
	</gazebo>
	<gazebo reference="wheel_left">
		<material>Gazebo/Black</material>
	</gazebo>
	<gazebo reference="wheel_right">
		<material>Gazebo/Black</material>
	</gazebo>
	<gazebo reference="castor_front_left">
		<material>Gazebo/Yellow</material>
	</gazebo>
	<gazebo reference="castor_front_right">
		<material>Gazebo/Yellow</material>
	</gazebo>
	<gazebo reference="castor_rear_left">
		<material>Gazebo/Yellow</material>
	</gazebo>
	<gazebo reference="castor_rear_right">
		<material>Gazebo/Yellow</material>
	</gazebo>
	<!--joint ideal sensor-->
	<gazebo>
		<plugin filename="gz-sim-joint-state-publisher-system" name="gz::sim::systems::JointStatePublisher">
			<topic>joint_states</topic>
			<!--from <ros><remapping> -->
			<joint_name>wheel_joint_left</joint_name>
			<joint_name>wheel_joint_right</joint_name>
			<joint_name>castor_joint_front_left</joint_name>
			<joint_name>castor_joint_front_right</joint_name>
			<joint_name>castor_joint_rear_left</joint_name>
			<joint_name>castor_joint_rear_right</joint_name>
		</plugin>
	</gazebo>
	<!-- imu -->
	<gazebo reference="imu_link">
		<gravity>true</gravity>
		<sensor name="imu_sensor" type="imu">
			<always_on>1</always_on>
			<update_rate>10</update_rate>
			<visualize>true</visualize>
			<topic>imu</topic>
			<gz_frame_id>imu_link</gz_frame_id>
			<imu>
				<angular_velocity>
					<x>
						<noise type="gaussian">
							<mean>3.0</mean>
							<stddev>2e-4</stddev>
						</noise>
					</x>
					<y>
						<noise type="gaussian">
							<mean>0.0</mean>
							<stddev>2e-4</stddev>
						</noise>
					</y>
					<z>
						<noise type="gaussian">
							<mean>0.0</mean>
							<stddev>2e-4</stddev>
						</noise>
					</z>
				</angular_velocity>
				<linear_acceleration>
					<x>
						<noise type="gaussian">
							<mean>0.0</mean>
							<stddev>1.7e-2</stddev>
						</noise>
					</x>
					<y>
						<noise type="gaussian">
							<mean>0.0</mean>
							<stddev>1.7e-2</stddev>
						</noise>
					</y>
					<z>
						<noise type="gaussian">
							<mean>0.0</mean>
							<stddev>1.7e-2</stddev>
						</noise>
					</z>
				</linear_acceleration>
			</imu>
		</sensor>
	</gazebo>
	<!-- lidar-->
	<gazebo reference="lidar_link">
		<sensor name="lidar_sensor" type="gpu_lidar">
			<pose>0 0 0 0 0 0</pose>
			<visualize>true</visualize>
			<always_on>true</always_on>
			<update_rate>40</update_rate>
			<topic>scan</topic>
			<gz_frame_id>lidar_link</gz_frame_id>
			<lidar>
				<scan>
					<horizontal>
						<samples>720</samples>
						<resolution>1</resolution>
						<min_angle>-3.1415926</min_angle>
						<max_angle>3.1415926</max_angle>
					</horizontal>
				</scan>
				<range>
					<min>0.05</min>
					<max>2.0</max>
					<resolution>0.03</resolution>
				</range>
				<noise>
					<type>gaussian</type>
					<mean>0.0</mean>
					<stddev>0.03</stddev>
				</noise>
			</lidar>
		</sensor>
	</gazebo>
	<gazebo reference="camera_optical">
		<sensor name="front_camera" type="camera">
			<update_rate>20.0</update_rate>
			<topic>camera/image_raw</topic>
			<gz_frame_id>camera_optical</gz_frame_id>
			<camera name="d435">
				<camera_info_topic>camera/camera_info</camera_info_topic>
				<horizontal_fov>1.3962634</horizontal_fov>
				<image>
					<width>1600</width>
					<height>900</height>
					<format>R8G8B8</format>
				</image>
				<clip>
					<near>0.005</near>
					<far>10.0</far>
				</clip>
				<distortion>
					<k1>0.0</k1>
					<k2>0.0</k2>
					<k3>0.0</k3>
					<p1>0.0</p1>
					<p2>0.0</p2>
				</distortion>
				<noise>
					<type>gaussian</type>
					<mean>0.0</mean>
					<stddev>0.007</stddev>
				</noise>
			</camera>
		</sensor>
	</gazebo>
	<!-- DiffDrive plugin for odometry -->
	<gazebo>
		<plugin filename="libgazebo_ros_diff_drive.so" name="diff_drive">
			<ros>
				<namespace></namespace>
				<remapping>
					<remap from="odom" to="/odom"/>
				</remapping>
			</ros>
			<left_joint>/wheel_joint_left</left_joint>
			<right_joint>/wheel_joint_left</right_joint>
			<wheel_separation>0.45</wheel_separation>
			<wheel_radius>0.08</wheel_radius>
			<command_timeout>0.1</command_timeout>
			<publish_odometry>true</publish_odometry>
			<odometry_frame>/odom_frame</odometry_frame>
			<global_frame>/odom_frame</global_frame>
		</plugin>
	</gazebo>
	<ros2_control name="IgnitionSystem" type="system">
		<hardware>
			<plugin>ign_ros2_control/IgnitionSystem</plugin>
		</hardware>
		<joint name="wheel_joint_left">
			<command_interface name="velocity"/>
			<state_interface name="velocity"/>
			<state_interface name="effort"/>
		</joint>
		<joint name="wheel_joint_right">
			<command_interface name="velocity"/>
			<state_interface name="velocity"/>
			<state_interface name="effort"/>
		</joint>
	</ros2_control>
	<gazebo>
		<plugin filename="ign_ros2_control-system" name="ign_ros2_control::IgnitionROS2ControlPlugin">
			<controller_manager_prefix_node_name></controller_manager_prefix_node_name>
			<parameters>/home/aimen/auto-weed-removal/ros2_ws/install/name_ign/share/name_ign/config/controller_config.yaml</parameters>
			<ros>
				<namespace></namespace>
			</ros>
		</plugin>
	</gazebo>
</robot>
